<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Path of Exile Build Generator</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<style>
			body {
				font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
			}
			section {
				width: 32%;
				min-width: 200px;
				float: left;
			}
		</style>
	</head>
	<body>
		<a href="#" onclick="doTheThing()"><h1>PoE Build Generator</h1></a>
		<section>
			<h2>Class (Ascendancy)</h2>
			<p id="ascendancy"></p>
		</section>
		<section>
			<h2>Main skill</h2>
			<p id="skill"></p>
		</section>
		<section>
			<h2>Defence</h2>
			<p id="defence"></p>
		</section>

		<script>
			var obj_asc = {
				"Scion" : ["Ascendant"],
				"Duelist" : ["Slayer", "Gladiator", "Champion"],
				"Shadow" : ["Assassin", "Saboteur", "Trickster"],
				"Marauder" : ["Juggernaut", "Berserker", "Chieftain"],
				"Witch" : ["Necromancer", "Elementalist", "Occultist"],
				"Ranger" : ["Deadeye", "Raider", "Pathfinder"],
				"Templar" : ["Inquisitor", "Hierophant", "Guardian"]
			}
			var arr_skill = [
				"Abyssal Cry",
				"Ancestral Protector",
				"Ancestral Warchief",
				// "Anger",
				"Animate Guardian",
				"Cleave",
				// "Decoy Totem",
				// "Determination",
				// "Devouring Totem",
				"Dominating Blow",
				"Earthquake",
				// "Enduring Cry",
				"Flame Totem",
				"Glacial Hammer",
				"Ground Slam",
				"Heavy Strike",
				// "Herald of Ash",
				"Ice Crash",
				// "Immortal Call",
				"Infernal Blow",
				"Leap Slam",
				"Molten Shell",
				"Molten Strike",
				// "Punishment",
				// "Purity of Fire",
				// "Rallying Cry",
				"Reckoning",
				// "Rejuvenation Totem",
				"Searing Bond",
				"Shield Charge",
				"Shockwave Totem",
				"Static Strike",
				// "Summon Flame Golem",
				// "Summon Stone Golem",
				"Sunder",
				"Sweep",
				"Vaal Glacial Hammer",
				"Vaal Ground Slam",
				// "Vaal Immortal Call",
				"Vaal Molten Shell",
				"Vengeance",
				"Vigilant Strike",
				// "Vitality",
				// "Warlord's Mark",
				"Animate Weapon",
				// "Arctic Armour",
				"Barrage",
				"Bear Trap",
				"Blade Flurry",
				"Blade Vortex",
				"Bladefall",
				"Blast Rain",
				"Blink Arrow",
				// "Blood Rage",
				"Burning Arrow",
				"Caustic Arrow",
				"Cyclone",
				"Desecrate",
				"Detonate Dead",
				"Double Strike",
				"Dual Strike",
				"Elemental Hit",
				"Ethereal Knives",
				"Explosive Arrow",
				"Fire Trap",
				"Flicker Strike",
				"Freeze Mine",
				"Frenzy",
				"Frost Blades",
				// "Grace",
				// "Haste",
				// "Hatred",
				// "Herald of Ice",
				"Ice Shot",
				"Ice Trap",
				"Lacerate",
				"Lightning Arrow",
				"Lightning Strike",
				"Mirror Arrow",
				// "Phase Run",
				// "Poacher's Mark",
				// "Projectile Weakness",
				"Puncture",
				// "Purity of Ice",
				"Rain of Arrows",
				"Reave",
				"Riposte",
				"Shrapnel Shot",
				"Siege Ballista",
				// "Smoke Mine",
				"Spectral Throw",
				"Split Arrow",
				// "Summon Ice Golem",
				// "Temporal Chains",
				"Tornado Shot",
				"Vaal Burning Arrow",
				"Vaal Cyclone",
				"Vaal Detonate Dead",
				"Vaal Double Strike",
				// "Vaal Grace",
				// "Vaal Haste",
				"Vaal Lightning Strike",
				"Vaal Rain of Arrows",
				"Vaal Reave",
				"Vaal Spectral Throw",
				"Viper Strike",
				"Whirling Blades",
				"Wild Strike",
				"Arc",
				"Arctic Breath",
				// "Assassin's Mark",
				"Ball Lightning",
				"Blight",
				// "Bone Offering",
				// "Clarity",
				"Cold Snap",
				// "Conductivity",
				"Contagion",
				"Conversion Trap",
				// "Convocation",
				"Discharge",
				// "Discipline",
				// "Elemental Weakness",
				// "Enfeeble",
				"Essence Drain",
				"Fire Nova Mine",
				"Fireball",
				"Firestorm",
				"Flame Dash",
				"Flame Surge",
				"Flameblast",
				// "Flammability",
				// "Flesh Offering",
				"Freezing Pulse",
				"Frost Bomb",
				"Frost Wall",
				"Frostbite",
				"Frostbolt",
				"Glacial Cascade",
				"Herald of Thunder",
				"Ice Nova",
				"Ice Spear",
				"Incinerate",
				"Kinetic Blast",
				"Lightning Tendrils",
				"Lightning Trap",
				"Lightning Warp",
				"Magma Orb",
				"Orb of Storms",
				"Power Siphon",
				// "Purity of Elements",
				// "Purity of Lightning",
				"Raise Spectre",
				"Raise Zombie",
				"Righteous Fire",
				"Scorching Ray",
				"Shock Nova",
				"Spark",
				// "Spirit Offering",
				"Storm Call",
				// "Summon Chaos Golem",
				// "Summon Lightning Golem",
				"Summon Raging Spirit",
				"Summon Skeletons",
				"Tempest Shield",
				"Vaal Arc",
				// "Vaal Clarity",
				"Vaal Cold Snap",
				// "Vaal Discipline",
				"Vaal Fireball",
				"Vaal Flameblast",
				"Vaal Ice Nova",
				"Vaal Lightning Trap",
				"Vaal Lightning Warp",
				"Vaal Power Siphon",
				"Vaal Righteous Fire",
				"Vaal Spark",
				"Vaal Storm Call",
				"Vaal Summon Skeletons",
				"Vortex",
				// "Vulnerability",
				// "Wither",
				// "Wrath"
			]
			var arr_def = [
				"Life + Armour",
				"Life + Evasion",
				"Chaos Innoculation + Vaal Pact",
				"Chaos Innoculation + Zealot's Oath",
				"Hybrid / Low Life",
				"Mind Over Matter"
			]

			function getRandomIntInclusive(min, max) {
				min = Math.ceil(min);
				max = Math.floor(max);
				return Math.floor(Math.random() * (max - min + 1)) + min;
			}

			function doTheThing() {
				var rand = getRandomIntInclusive(1, 13)
				rand = rand % 7 // Scion is weighted at 1/2 of the rest

				var i = 0
				var j = 0

				for (var k in obj_asc) {
					if (i == rand) {
						if (k == "Scion") {
							j = 0
						} else {
							j = getRandomIntInclusive(0, 2)
						}
						id_asc.innerHTML = k + " (" + obj_asc[k][j] + ")"
						break
					}
					i++
				}

				rand = getRandomIntInclusive(1, arr_skill.length) - 1
				id_skill.innerHTML = arr_skill[rand]

				rand = getRandomIntInclusive(1, arr_def.length) - 1
				console.log(rand, arr_def[rand])
				id_def.innerHTML = arr_def[rand]
			}

			var id_asc, id_skill, id_def

			window.onload = function() {
				id_asc = document.getElementById("ascendancy")
				id_skill = document.getElementById("skill")
				id_def = document.getElementById("defence")

				doTheThing()
			}
		</script>
	</body>
</html>